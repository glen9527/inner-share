<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/><meta name="exporter-version" content="Evernote Mac 7.8 (457453)"/><meta name="altitude" content="60.8990592956543"/><meta name="author" content="all_register@163.com"/><meta name="created" content="2018-02-27 07:04:57 +0000"/><meta name="latitude" content="39.98318043750141"/><meta name="longitude" content="116.320896600143"/><meta name="source" content="desktop.mac"/><meta name="updated" content="2018-09-27 10:37:51 +0000"/><title>关于 Android 基础知识的分享</title></head><body><div><span style="font-family: &quot;Helvetica Neue&quot;;">1、名词科普—对名词有一个一致的理解</span></div><div><span style="font-size: 14px; font-family: &quot;Helvetica Neue&quot;;">Toast(吐司)：一个半透明弹窗，过一段时间会自己消失，模拟器实例说明 - 退出登录</span></div><div><span style="font-size: 14px; font-family: &quot;Helvetica Neue&quot;;">Dialog(对话框、弹框)：弹出式的浮窗，不会自己消失，<span style="font-size: 14px; font-family: &quot;Helvetica Neue&quot;;">模拟器实例说明 - 登录失败</span></span></div><div><span style="font-family: &quot;Helvetica Neue&quot;;">PopupWindow(泡泡窗口)：指定位置弹出的窗口，不会自己消失 - 私募账户</span></div><div><span style="font-family: &quot;Helvetica Neue&quot;;">其他...</span></div><div><br/></div><div><span style="font-family: &quot;Helvetica Neue&quot;;">2、四大组件：</span></div><div><span style="font-family: &quot;Helvetica Neue&quot;;">Activity：<span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-family: Verdana, Arial, helvetica, sans-seriff; color: rgb(35, 35, 35); font-variant-caps: normal; font-variant-ligatures: normal;">一个Activity通常就是一个单独的屏幕，</span><span style="font-size: 14px; font-family: &quot;Helvetica Neue&quot;;">应用内容载体 - </span><span style="font-size: 14px; font-family: &quot;Helvetica Neue&quot;;">说明 状态栏，actionbar/titlebar    </span></span></div><div><img src="%E5%85%B3%E4%BA%8E%20Android%20%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86%E7%9A%84%E5%88%86%E4%BA%AB.html.resources/820B53D9-7442-439A-B297-E19B9D32B616.png" height="576" width="1130"/><br/></div><div><span style="font-family: &quot;Helvetica Neue&quot;;">Service：服务，没有页面，后台任务</span></div><div><span style="font-family: &quot;Helvetica Neue&quot;;">BroadCastReceiver：广播接受者，电话状态监听，处理任务不能超过 10s，超 10s ANR 卡死</span></div><div><span style="font-family: &quot;Helvetica Neue&quot;;">ContentProvider：内容提供者，其他应用读取本应用数据，跨进程交换数据，如通讯录</span></div><div><br/></div><div><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 14px; color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;; font-variant-caps: normal; font-variant-ligatures: normal;">3、Activity 生命周期：</span></div><div style="orphans: 2; widows: 2;"><span style="font-size: 14px; orphans: 2; widows: 2; color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;;">重要节点：onResume-onPause，理论上来讲包含动画等耗性能的页面，</span><span style="orphans: 2; widows: 2; font-size: 14px; color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;;">stop 之后，</span><span style="font-size: 14px; orphans: 2; widows: 2; color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;;"> cup 使用率应该降低</span></div><div><img src="%E5%85%B3%E4%BA%8E%20Android%20%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86%E7%9A%84%E5%88%86%E4%BA%AB.html.resources/1.gif" height="711" width="545"/><br/></div><div><br/></div><div><span style="font-family: &quot;Helvetica Neue&quot;;">3、常用页面结构</span></div><div><span style="font-size: 14px; font-family: &quot;Helvetica Neue&quot;;">Activity： 页面载体</span></div><div><span style="orphans: 2; widows: 2; color: rgb(47, 47, 47); font-family: &quot;Helvetica Neue&quot;;">ViewPager：左右滑动控件，样式展示加载机制，Charles 在 ViewPager 换页时，有多个网络访问</span></div><div><span style="color: rgb(47, 47, 47); font-family: &quot;Helvetica Neue&quot;;">Fragment：表现上和 Activity一样，作为视图载体，但是不能独立存在，必须依附 Activity</span></div><div><span style="orphans: 2; widows: 2; color: rgb(47, 47, 47); font-family: &quot;Helvetica Neue&quot;;">ListView/RecyclerView（</span><span style="orphans: 2; widows: 2; color: rgb(47, 47, 47); font-family: &quot;Helvetica Neue&quot;;">ScrollView）：列表/滑动</span></div><div><span style="orphans: 2; widows: 2; color: rgb(47, 47, 47); font-family: &quot;Helvetica Neue&quot;;">或LinearLayout/RelativeLayout/FramLayout：</span></div><div><br/></div><div><span style="color: rgb(47, 47, 47); font-family: &quot;Helvetica Neue&quot;;">4、常用控件：</span></div><div><span style="orphans: 2; text-indent: 0px; widows: 2; color: rgb(47, 47, 47); font-family: &quot;Helvetica Neue&quot;; font-variant-ligatures: normal;">TextView( 文本框 ) — singleLine:有的文字长了换行，有的显示 … </span></div><div><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 14px; color: rgb(47, 47, 47); font-family: &quot;Helvetica Neue&quot;; font-variant-caps: normal; font-variant-ligatures: normal;">Button：按钮，有阴影 </span></div><div><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 14px; color: rgb(47, 47, 47); font-family: &quot;Helvetica Neue&quot;; font-variant-caps: normal; font-variant-ligatures: normal;">EditText - inputType numberic ，为什么输入数字的输入框不能输入逗号</span></div><div><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 14px; color: rgb(47, 47, 47); font-family: &quot;Helvetica Neue&quot;; font-variant-caps: normal; font-variant-ligatures: normal;">ImageView - src/background 拉伸</span></div><div><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 14px; color: rgb(47, 47, 47); font-family: &quot;Helvetica Neue&quot;; font-variant-caps: normal; font-variant-ligatures: normal;">ProgressBar</span></div><div><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 14px; color: rgb(47, 47, 47); font-family: &quot;Helvetica Neue&quot;; font-variant-caps: normal; font-variant-ligatures: normal;">AlertDialog</span></div><div style="orphans: 2; widows: 2;">ListView/GridView/RecyclerView：<span style="orphans: 2; widows: 2; font-size: 14px; color: rgb(47, 47, 47); font-family: &quot;Helvetica Neue&quot;;">列表复用，卡条目测试，一屏展示 10 条，第十一条复用第一条，可以构造第十一条缺失部分数据，看是不是出现了复用，举个例子，见 Demo</span></div><div style="orphans: 2; widows: 2;">ViewPager</div><div style="orphans: 2; widows: 2;"><div><br style="color: rgb(47, 47, 47);"/></div></div><div style="orphans: 2; widows: 2;"><span style="orphans: 2; widows: 2; color: rgb(47, 47, 47); font-family: &quot;Helvetica Neue&quot;;">其他</span></div><div><br/></div><div><br/></div><div><span style="font-size: 14px; color: rgb(47, 47, 47); font-family: &quot;Helvetica Neue&quot;;">6、</span><span style="font-size: 14px; color: rgb(47, 47, 47); font-family: &quot;Helvetica Neue&quot;; font-weight: bold;">常用的单位：</span></div><div><span style="font-size: 14px; color: rgb(47, 47, 47); font-family: &quot;Helvetica Neue&quot;;">一般有4个。分别为:</span></div><ul><li><div><span style="font-size: 14px; font-family: &quot;Helvetica Neue&quot;;">px:  像素，即屏幕中可以显示的最小元素单元。</span></div></li><li><div><span style="font-size: 14px; font-family: &quot;Helvetica Neue&quot;;">pt: 磅数，1磅等于1/72英寸，一般会作为字体单位使用。</span></div></li><li><div><span style="font-size: 14px; font-family: &quot;Helvetica Neue&quot;; font-weight: bold;">dp: 密度无关像素的意思，同dip，在不同密度的屏幕中显示的比例会保持一致。</span></div></li><li><div><span style="font-size: 14px; font-family: &quot;Helvetica Neue&quot;; font-weight: bold;">sp: 可伸缩像素，和dp差不多。</span></div></li></ul><div><br/></div><div><font style="font-size: 14px;" face="Helvetica Neue"><span style="font-size: 14px; font-family: &quot;Helvetica Neue&quot;; color: rgb(47, 47, 47); font-weight: bold;">像素密度：</span><span style="font-size: 14px; font-family: &quot;Helvetica Neue&quot;; color: rgb(47, 47, 47);">密度就是屏幕每英寸所包含的像素数，通常单位为dpi。</span></font></div><div><font style="font-size: 14px;" face="Helvetica Neue"><span style="-webkit-font-smoothing: subpixel-antialiased;"><span style="font-size: 14px; font-family: &quot;Helvetica Neue&quot;; color: rgb(47, 47, 47); font-stretch: normal; font-variant-ligatures: normal; line-height: 18px;">px 和 dp 换算公式：</span></span><span style="-webkit-font-smoothing: subpixel-antialiased; font-size: 14px; font-family: &quot;Helvetica Neue&quot;; color: rgb(0, 102, 0); font-stretch: normal; font-variant-ligatures: normal; line-height: 18px;">px = dp * (dpi / 160)</span><span style="font-size: 14px; font-family: &quot;Helvetica Neue&quot;; color: rgb(47, 47, 47);">。 例如，在 240 dpi 屏幕上，1 dp 等于 1.5 物理像素。在定义应用的 UI 时应始终使用 dp 单位 ，以确保在不同密度的屏幕上正常显示 UI。</span></font></div><div><br/></div><div><span style="font-size: 14px; color: rgb(47, 47, 47); font-family: &quot;Helvetica Neue&quot;;">PS：px、pt 在 Android 基本不使用了，控件大小高度宽度的值一般单位为dp，字体大小一般用sp为单位。</span></div><div><br/></div><div><span style="font-size: 14px; color: rgb(47, 47, 47); font-family: &quot;Helvetica Neue&quot;;">7、</span><span style="font-size: 14px; color: rgb(47, 47, 47); font-family: &quot;Helvetica Neue&quot;; font-weight: bold;">数据存储 - stetho + chrome 查看 Share数据是否真实变化了</span></div><div><span style="color: rgb(47, 47, 47); font-weight: bold;">瞬时数据：</span><span style="color: rgb(47, 47, 47);">瞬时数据指存储在内存当中的数据，程序关闭或者内存被回收，就有可能丢失。</span></div><div><br/></div><div><span style="color: rgb(47, 47, 47); font-weight: bold;">持久化存储</span></div><div><span style="color: rgb(47, 47, 47);"><span style="color: rgb(47, 47, 47); font-weight: bold;">数据持久化简介：</span> 指将瞬时数据存储到存储设备中，保证即使在手机或电脑关机的情况下，这些数据仍然不会丢失。</span></div><div><br/></div><div><span style="color: rgb(47, 47, 47);">Android 可以通过三种方式实现持久化存储：1）文件存储 2）SharedPreference存储 3）数据库存储</span></div><div><span style="color: rgb(47, 47, 47); font-weight: bold;">文件存储：</span><span style="color: rgb(47, 47, 47);">是Android最基本的一种数据存储方式。一般适合存储简单的文本数据或二进制文件(图片、文件等)。</span></div><div><span style="color: rgb(47, 47, 47); font-weight: bold;">SharedPreference存储：</span><span style="color: rgb(47, 47, 47);">是使用键值对的方式来存储数据的。保存数据的时候需要提供一个键值，在用这个数据的时候，就要提供该键值。</span></div><div><span style="color: rgb(47, 47, 47); font-weight: bold;">数据库存储：</span><span style="color: rgb(47, 47, 47);">Android内置了SQLite来进行数据存储。</span></div><div><br/></div><div><span style="color: rgb(47, 47, 47);">使用 stetho+Chrome 可以查看持久化存储的数据</span></div><div><br/></div><div><span style="color: rgb(47, 47, 47);">8、清除缓存、清除数据、一键清理到底清除了什么？</span></div><div><span style="font-weight: bold;">清除数据：</span>清除数据主要是清除用户配置，比如SharedPreferences、数据库等等，这些数据都是在程序运行过程中保存的用户配置信息，清除数据后，下次进入程序就和第一次进入程序时一样，一般清除数据时也会一起清除掉缓存；</div><div><span style="font-weight: bold;">清除缓存：</span>缓存是程序运行时的临时存储空间，它可以存放从网络下载的临时图片等，为了加快程序加载速度，我们会对一些数据进行缓存，从用户的角度出发，清除缓存对用户并没有太大的影响，但是清除缓存后用户再次使用该APP时，由于本地缓存已经被清理，所有的数据需要重新从网络上获取，所以加载速度会变慢；清除缓存只会清除存放在 getCacheDir()  ( /data/data//cache)或者 getExternalCacheDir()  (SDCard/Android/data/应用包名/cache/)路径下的文件，类似我们存储在 sd 卡 itouzi 目录下的合同文件等，清除缓存时不能清除。</div><div><span style="font-weight: bold;">一键清理：</span>一键清理是系统级别的功能，它主要是杀后台进程，以达到释放内存的目的，但杀掉哪些进程和清理时设置的重要值阈值有关，重要值越大说明进程重要程度越低，如果在清理时某个进程的重要值大于该阈值，该进程就会被杀掉</div><div><br/></div><div><span style="color: rgb(47, 47, 47);">解释了为什么清除数据登录状态就没了</span></div><div><span style="color: rgb(47, 47, 47);">解释了为什么清除缓存之后，图标加载就慢了</span></div><div><br/></div><div><br/></div><div><br/></div><div>1.开发如何监控性能，目前关注哪些方面；方法可以传授一下  — 内存占用，CPU 使用率</div><div>    包含复杂自定义控件的页面着重关注，动态加载布局的着重关注</div><div>2.兼容测试，怎么选择机型（Android系统，手机屏幕大小，手机分辨率）- 主流厂商(OV，华为，小米等)的主流机型，</div><div>    Android各系统都有什么区别 — 不同 Android 版本之间的区别参考 <a href="https://developer.android.com/about/versions/oreo/index.html">这里</a> behavior change 或者搜索某个版本的新特性，不同厂商之间的区别不好统计</div><div>3.测试用例的代码覆盖率 - jacoco 检测测试用例覆盖率的工具(针对代码编写的单元测试)</div><div>4.QA进行前端代码diff，可操作性如何 - 使用 Android studio 或者 sourceTree 对比本次提交 和 上次提交的代码区别，操作简单</div><div>5.遍历测试、稳定性测试APPCrawler — 待了解</div><div><br/></div><div><br/></div><div>进入页面，未加载完之前退出，可能引起崩溃</div><div>动态加载布局，或者使用了复杂自定义控件（图表，卡尺等），或者多图/包含大图片页面，容易 内存/CPU 使用过高导致卡顿/oom</div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div></body></html>